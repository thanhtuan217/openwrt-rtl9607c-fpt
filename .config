# =================================================
# Target System: Realtek GPON SoC
# Phải kiểm tra lại tên target trong source code của bạn
# =================================================
CONFIG_TARGET_realtek=y
CONFIG_TARGET_realtek_rtl9607c=y
# Tên device này phải khớp với file .dts trong source code
CONFIG_TARGET_realtek_rtl9607c_DEVICE_G-97RG6W=y

# =================================================
# Gói cơ bản và Giao diện Web (LuCI)
# =================================================
CONFIG_PACKAGE_bash=y
CONFIG_PACKAGE_htop=y
CONFIG_PACKAGE_nano=y
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-ssl=y
CONFIG_PACKAGE_luci-theme-bootstrap=y
# Các ứng dụng LuCI hữu ích khác, bỏ dấu # nếu muốn dùng
# CONFIG_PACKAGE_luci-app-ddns=y
# CONFIG_PACKAGE_luci-app-sqm=y
# CONFIG_PACKAGE_luci-app-upnp=y
# CONFIG_PACKAGE_luci-app-adblock=y
# CONFIG_PACKAGE_luci-app-samba4=y

# =================================================
# Kernel modules (Drivers)
# =================================================
# Hỗ trợ USB (dựa trên log dmesg)
CONFIG_PACKAGE_kmod-usb-core=y
CONFIG_PACKAGE_kmod-usb-ohci=y
CONFIG_PACKAGE_kmod-usb-ehci=y
CONFIG_PACKAGE_kmod-usb2=y
CONFIG_PACKAGE_kmod-usb-storage=y
CONFIG_PACKAGE_block-mount=y

# Hỗ trợ các định dạng ổ cứng cắm ngoài
CONFIG_PACKAGE_kmod-fs-ext4=y
CONFIG_PACKAGE_kmod-fs-ntfs=y
CONFIG_PACKAGE_kmod-fs-vfat=y

# Hỗ trợ đọc/ghi Flash (quan trọng)
CONFIG_PACKAGE_kmod-mtd-rw=y
CONFIG_PACKAGE_kmod-mtd-rawnand=y
# Cần kiểm tra driver NAND đặc thù của Realtek trong source code
# Tên driver có thể là kmod-mtd-realtek-spinand hoặc tương tự

# --- Driver Wi-Fi (Phần khó nhất) ---
# Tôi thêm vào đây các driver có khả năng tương thích với chip RTL8822BE
# Ông bạn có thể phải thử nghiệm bật/tắt từng cái
# CONFIG_PACKAGE_kmod-rtw88=y
# CONFIG_PACKAGE_rtw88-8822be=y
# CONFIG_PACKAGE_rtw88-usb=y # Có thể cần nếu chip wifi kết nối qua USB nội bộ

# =================================================
# Mạng
# =================================================
CONFIG_PACKAGE_ipv6helper=y
CONFIG_PACKAGE_wget-ssl=y
CONFIG_PACKAGE_curl=y

# =================================================
# Tùy chọn build Image Firmware
# Cấu hình dựa trên phân vùng từ file Putty.txt
# =================================================
CONFIG_TARGET_ROOTFS_PARTNAME="rootfs"
CONFIG_TARGET_KERNEL_PARTNAME="linux"
CONFIG_TARGET_SQUASHFS_BLOCK_SIZE=256
# Kích thước phân vùng (tính bằng KB) từ dmesg
# KernelA (linux) = 0x500000 bytes = 5120 KB
# ImageA (rootfs) = 0x1C00000 bytes = 28672 KB
# Đặt kích thước nhỏ hơn một chút để an toàn
CONFIG_TARGET_KERNEL_SIZE=5000
CONFIG_TARGET_ROOTFS_SIZE=28000
